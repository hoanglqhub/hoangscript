
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui",  
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ExclusiveMenu"
screenGui.IgnoreGuiInset = true
screenGui.Enabled = true
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

local function createStroke(parent, thickness, color, transparency)
    local stroke = Instance.new("UIStroke")
    stroke.Thickness = thickness
    stroke.Color = color
    stroke.Transparency = transparency
    stroke.Parent = parent
    return stroke
end

local function createGradient(parent, colorSequence, rotation)
    local gradient = Instance.new("UIGradient")
    gradient.Color = colorSequence
    gradient.Rotation = rotation or 0
    gradient.Parent = parent
    return gradient
end

local loadingFrame = Instance.new("Frame")
loadingFrame.Size = UDim2.new(0, 120, 0, 120)
loadingFrame.Position = UDim2.new(0.5, -60, 0.5, -60)
loadingFrame.BackgroundTransparency = 1
loadingFrame.Parent = screenGui

local loadingSpinner = Instance.new("ImageLabel")
loadingSpinner.Size = UDim2.new(0.8, 0, 0.8, 0)
loadingSpinner.Position = UDim2.new(0.1, 0, 0.1, 0)
loadingSpinner.Image = "rbxassetid://103930533102756"
loadingSpinner.BackgroundTransparency = 1
loadingSpinner.ImageTransparency = 0.3
loadingSpinner.Parent = loadingFrame

createGradient(loadingSpinner, ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 255, 255)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 255))
})

local welcomeLabel = Instance.new("TextLabel")
welcomeLabel.Size = UDim2.new(0, 250, 0, 40)
welcomeLabel.Position = UDim2.new(0.5, -125, 0.5, 40)
welcomeLabel.Text = "Welcome, " .. player.Name .. "!"
welcomeLabel.TextColor3 = Color3.fromRGB(255, 255, 150)
welcomeLabel.BackgroundTransparency = 1
welcomeLabel.TextSize = 20
welcomeLabel.Font = Enum.Font.GothamBold
welcomeLabel.TextTransparency = 1
welcomeLabel.Parent = loadingFrame

local welcomeStroke = createStroke(welcomeLabel, 2, Color3.fromRGB(0, 200, 255), 1)

local toggleButton = Instance.new("ImageButton")
toggleButton.Size = UDim2.new(0, 50, 0, 50)
toggleButton.Position = UDim2.new(0, 20, 0, 20)
toggleButton.Image = "rbxassetid://103930533102756"
toggleButton.BackgroundTransparency = 0.8
toggleButton.Visible = false
toggleButton.ZIndex = 10
toggleButton.Parent = screenGui

local toggleCorner = Instance.new("UICorner")
toggleCorner.CornerRadius = UDim.new(0, 10)
toggleCorner.Parent = toggleButton

local toggleStroke = createStroke(toggleButton, 2, Color3.fromRGB(0, 255, 200), 0.5)

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 500, 0, 360)
mainFrame.Position = UDim2.new(0.5, -250, 0.5, -180)
mainFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
mainFrame.BackgroundTransparency = 0.2
mainFrame.Visible = false
mainFrame.ClipsDescendants = true
mainFrame.ZIndex = 1
mainFrame.Parent = screenGui

local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 10)
mainCorner.Parent = mainFrame

createGradient(mainFrame, ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(50, 0, 255)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 150))
}, -45)

local menuBackground = Instance.new("ImageLabel")
menuBackground.Size = UDim2.new(1, 0, 1, 0)
menuBackground.Image = "rbxassetid://103930533102756"
menuBackground.ImageTransparency = 0.6
menuBackground.BackgroundTransparency = 1
menuBackground.ZIndex = 0
menuBackground.Parent = mainFrame

local tabFrame = Instance.new("ScrollingFrame")
tabFrame.Size = UDim2.new(0, 157, 0, 280)
tabFrame.Position = UDim2.new(0, 10, 0, 70)
tabFrame.BackgroundTransparency = 1
tabFrame.ZIndex = 2
tabFrame.ScrollBarThickness = 4
tabFrame.ScrollBarImageColor3 = Color3.fromRGB(0, 255, 255)
tabFrame.CanvasSize = UDim2.new(0, 0, 0, 0) -- S·∫Ω t·ª± ƒë·ªông c·∫≠p nh·∫≠t
tabFrame.Parent = mainFrame

local tabListLayout = Instance.new("UIListLayout")
tabListLayout.SortOrder = Enum.SortOrder.LayoutOrder
tabListLayout.Padding = UDim.new(0, 5)
tabListLayout.Parent = tabFrame

local function createTab(name, index)
    local contentFrame = Instance.new("Frame")
    contentFrame.Size = UDim2.new(1, -177, 1, -90)
    contentFrame.Position = UDim2.new(0, 167, 0, 70)
    contentFrame.BackgroundTransparency = 1
    contentFrame.Visible = (index == 1)
    contentFrame.ZIndex = 2
    contentFrame.Parent = mainFrame

    local listLayout = Instance.new("UIListLayout")
    listLayout.SortOrder = Enum.SortOrder.LayoutOrder
    listLayout.Padding = UDim.new(0, 10)
    listLayout.Parent = contentFrame

    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, -10, 0, 40)
    button.Text = name
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    button.BackgroundTransparency = 0.4
    button.Font = Enum.Font.GothamBold
    button.TextSize = 14
    button.ZIndex = 10
    button.Parent = tabFrame
    
    tabFrame.CanvasSize = UDim2.new(0, 0, 0, tabListLayout.AbsoluteContentSize.Y)

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = button

    local stroke = createStroke(button, 1.5, Color3.fromRGB(0, 255, 255), 0.6)

    local tweenInfo = TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut)
    button.MouseEnter:Connect(function()
        TweenService:Create(button, tweenInfo, {Size = UDim2.new(1, -10, 0, 44), BackgroundTransparency = 0.2}):Play()
        TweenService:Create(stroke, tweenInfo, {Transparency = 0.2}):Play()
    end)
    button.MouseLeave:Connect(function()
        TweenService:Create(button, tweenInfo, {Size = UDim2.new(1, -10, 0, 40), BackgroundTransparency = 0.4}):Play()
        TweenService:Create(stroke, tweenInfo, {Transparency = 0.6}):Play()
    end)

    button.MouseButton1Click:Connect(function()
        print("Tab clicked: " .. name)
        for _, content in ipairs(mainFrame:GetChildren()) do
            if content:IsA("Frame") and content ~= tabFrame then
                content.Visible = (content == contentFrame)
            end
        end
        button.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
        for _, otherButton in ipairs(tabFrame:GetChildren()) do
            if otherButton:IsA("TextButton") and otherButton ~= button then
                otherButton.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
            end
        end
    end)

    return contentFrame
end

local function createParagraph(contentFrame, title, content)
    local paragraphFrame = Instance.new("Frame")
    paragraphFrame.Size = UDim2.new(1, -10, 0, 100)
    paragraphFrame.BackgroundTransparency = 1
    paragraphFrame.ZIndex = 2
    paragraphFrame.Parent = contentFrame

    local titleLabel = Instance.new("TextLabel")
    titleLabel.Size = UDim2.new(1, 0, 0, 20)
    titleLabel.Text = title
    titleLabel.TextColor3 = Color3.fromRGB(255, 255, 150)
    titleLabel.BackgroundTransparency = 1
    titleLabel.TextSize = 16
    titleLabel.Font = Enum.Font.GothamBold
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left
    titleLabel.ZIndex = 2
    titleLabel.Parent = paragraphFrame

    local contentLabel = Instance.new("TextLabel")
    contentLabel.Size = UDim2.new(1, 0, 0, 70)
    contentLabel.Position = UDim2.new(0, 0, 0, 25)
    contentLabel.Text = content
    contentLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    contentLabel.BackgroundTransparency = 1
    contentLabel.TextSize = 14
    contentLabel.Font = Enum.Font.Gotham
    contentLabel.TextXAlignment = Enum.TextXAlignment.Left
    contentLabel.TextWrapped = true
    contentLabel.ZIndex = 2
    contentLabel.Parent = paragraphFrame
end

local function createButton(contentFrame, title, description, callback)
    local buttonFrame = Instance.new("Frame")
    buttonFrame.Size = UDim2.new(1, -10, 0, 60)
    buttonFrame.BackgroundTransparency = 1
    buttonFrame.ZIndex = 2
    buttonFrame.Parent = contentFrame

    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, 0, 0, 40)
    button.Text = title
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    button.BackgroundTransparency = 0.4
    button.Font = Enum.Font.GothamBold
    button.TextSize = 14
    button.ZIndex = 10
    button.Parent = buttonFrame

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = button

    local stroke = createStroke(button, 1.5, Color3.fromRGB(0, 255, 255), 0.6)

    local descLabel = Instance.new("TextLabel")
    descLabel.Size = UDim2.new(1, 0, 0, 20)
    descLabel.Position = UDim2.new(0, 0, 0, 40)
    descLabel.Text = description
    descLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    descLabel.BackgroundTransparency = 1
    descLabel.TextSize = 12
    descLabel.Font = Enum.Font.Gotham
    descLabel.TextXAlignment = Enum.TextXAlignment.Left
    descLabel.ZIndex = 2
    descLabel.Parent = buttonFrame

    local tweenInfo = TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut)
    button.MouseEnter:Connect(function()
        TweenService:Create(button, tweenInfo, {Size = UDim2.new(1, 0, 0, 44), BackgroundTransparency = 0.2}):Play()
        TweenService:Create(stroke, tweenInfo, {Transparency = 0.2}):Play()
    end)
    button.MouseLeave:Connect(function()
        TweenService:Create(button, tweenInfo, {Size = UDim2.new(1, 0, 0, 40), BackgroundTransparency = 0.4}):Play()
        TweenService:Create(stroke, tweenInfo, {Transparency = 0.6}):Play()
    end)

    button.MouseButton1Click:Connect(function()
        print("Button clicked: " .. title)
        local success, err = pcall(callback)
        if not success then
            warn("Error in " .. title .. ": " .. tostring(err))
        end
    end)
end

-- T·∫°o tab v√† n·ªôi dung t·ª´ code m·∫´u
local tab1Content = createTab("Info ‚ùó", 1)
local tab2Content = createTab("script GAG ‚úÖ", 2)
local tab3Content = createTab("Script Blox Fruits ‚úÖ", 3)

-- Tab 1: Th√¥ng tin
createParagraph(tab1Content, "Th√¥ng tin v·ªÅ Game Hub", "Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi Game Hub! ƒê√¢y l√† n∆°i cung c·∫•p c√°c t√≠nh nƒÉng v√† c√¥ng c·ª• cho game Roblox c·ªßa b·∫°n. S·ª≠ d·ª•ng c√°c tab ƒë·ªÉ kh√°m ph√° c√°c t√πy ch·ªçn c√≥ s·∫µn.")
createParagraph(tab1Content, "B√°o c√°o l·ªói v√† c·∫≠p nh·∫≠t", "C√°c t√≠nh nƒÉng s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t th∆∞·ªùng xuy√™n. B·∫°n c√≥ th·ªÉ b√°o c√°o l·ªói ho·∫∑c y√™u c·∫ßu c·∫≠p nh·∫≠t b·∫±ng c√°ch li√™n h·ªá v·ªõi ch√∫ng t√¥i.")
createButton(tab1Content, "Li√™n h·ªá TikTok", "Li√™n h·ªá ƒë·ªÉ b√°o c√°o l·ªói ho·∫∑c ƒë·ªÅ xu·∫•t t√≠nh nƒÉng", function()
    setclipboard("https://www.tiktok.com/@hoang_lq911?_t=ZS-8zUlnOS7bXj&_r=1")
    print("TikTok link copied to clipboard!")
end)

-- Tab 2: script GAG
createButton(tab2Content, "Speed Hub", "C·∫ßn key", function()
    print("Loading Speed Hub...")
    repeat wait() until game:IsLoaded()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua", true))()
end)
createButton(tab2Content, "No Lag Hub", "C·∫ßn key", function()
    print("Loading No Lag Hub...")
    repeat wait() until game:IsLoaded() and game.Players.LocalPlayer
    local scripts = {
        [126884695634066] = "https://raw.githubusercontent.com/NoLag-id/No-Lag-HUB/refs/heads/main/Garden/Garden-V1.lua",
        [81440632616906] = "https://raw.githubusercontent.com/NoLag-id/No-Lag-HUB/refs/heads/main/DigEarth/V1.lua",
    }
    local url = scripts[game.PlaceId]
    if url then
        loadstring(game:HttpGetAsync(url))()
        loadstring(game:HttpGetAsync("https://raw.githubusercontent.com/NoLag-id/No-Lag-HUB/refs/heads/main/untitled.lua"))()
    else
        warn("No Lag Hub: No script found for this game!")
    end
end)
createButton(tab2Content, "Nat Hub", "C·∫ßn key", function()
    print("Loading Nat Hub...")
    repeat wait() until game:IsLoaded()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ArdyBotzz/NatHub/refs/heads/master/NatHub.lua"))()
end)
createButton(tab2Content, "ThunderZ Hub", "C·∫ßn key", function()
    print("Loading ThunderZ Hub...")
    repeat wait() until game:IsLoaded()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ThundarZ/Welcome/refs/heads/main/Main/GaG/Main.lua"))()
end)
createButton(tab2Content, "Quantum Hub", "C√≥ th·ªÉ kh√¥ng d√πng ƒë∆∞·ª£c n·ªØa", function()
    print("Loading Quantum Hub...")
    repeat wait() until game:IsLoaded()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/flazhy/QuantumOnyx/refs/heads/main/QuantumOnyx.lua"))()
end)

-- Tab 3: Script Blox Fruits 
createButton(tab3Content, "Tuan Anh IOS", "Kh√¥ng c·∫ßn key", function()
    print("Loading Tuan Anh IOS...")
    repeat wait() until game:IsLoaded()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/AnhTuanDzai-Hub/TuanAnhIOS/refs/heads/main/TuanAnhIOS-Main.Lua"))()
end)
createButton(tab3Content, "BlueX Hub", "Kh√¥ng c·∫ßn key (c√≥ th·ªÉ ch∆∞a update)", function()
    print("Loading BlueX Hub...")
    repeat wait() until game:IsLoaded()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/Dev-BlueX/BlueX-Hub/refs/heads/main/Main.lua"))()
end)
createButton(tab3Content, "AK", "Kh√¥ng c·∫ßn key (c√≥ th·ªÉ ch∆∞a update)", function()
    print("Loading AK...")
    repeat wait() until game:IsLoaded()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/hehej97/Ak/refs/heads/main/Akfixbug.txt"))()
end)
createButton(tab3Content, "REDZ Hub", "Kh√¥ng c·∫ßn key", function()
    print("Loading REDZ Hub...")
    repeat wait() until game:IsLoaded()
    local Settings = {
        JoinTeam = "Pirates",
        Translator = true
    }
    loadstring(game:HttpGet("https://raw.githubusercontent.com/tlredz/Scripts/refs/heads/main/main.luau"))(Settings)
end)

for i = 4, 13 do
    local newTab = createTab("Tab " .. i .. " üÜï", i)
    createParagraph(newTab, "Tab " .. i .. " Info", "This is a sample tab for testing. Add your content here!")
    createButton(newTab, "Sample Feature " .. i, "Test feature", function()
        print("Sample Feature " .. i .. " activated")
    end)
end

local function makeDraggable(frame)
    local dragging, dragInput, dragStart, startPos
    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
            local connection
            connection = input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                    connection:Disconnect()
                end
            end)
        end
    end)
    local dragConnection
    dragConnection = UserInputService.InputChanged:Connect(function(input)
        if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
            dragInput = input
            local delta = input.Position - dragStart
            frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
    frame.AncestryChanged:Connect(function()
        if not frame:IsDescendantOf(game) then
            dragConnection:Disconnect()
        end
    end)
end

makeDraggable(mainFrame)
makeDraggable(toggleButton)

local tweenInfo = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut)
toggleButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = not mainFrame.Visible
    TweenService:Create(mainFrame, tweenInfo, {BackgroundTransparency = mainFrame.Visible and 0.2 or 1, Size = mainFrame.Visible and UDim2.new(0, 500, 0, 360) or UDim2.new(0, 450, 0, 320)}):Play()
end)

toggleButton.MouseEnter:Connect(function()
    TweenService:Create(toggleButton, tweenInfo, {ImageTransparency = 0.2}):Play()
    TweenService:Create(toggleStroke, tweenInfo, {Transparency = 0.2}):Play()
end)
toggleButton.MouseLeave:Connect(function()
    TweenService:Create(toggleButton, tweenInfo, {ImageTransparency = 0}):Play()
    TweenService:Create(toggleStroke, tweenInfo, {Transparency = 0.5}):Play()
end)

local function runWelcomeAnimation()
    if not playerGui then
        warn("Error: PlayerGui not found!")
        return
    end

    local spinnerTween = TweenService:Create(loadingSpinner, TweenInfo.new(1.2, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut, -1), {Rotation = 360})
    spinnerTween:Play()

    local welcomeTweenInfo = TweenInfo.new(1.2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut)
    local welcomeTween = TweenService:Create(welcomeLabel, welcomeTweenInfo, {TextTransparency = 0, Size = UDim2.new(0, 270, 0, 48)})
    local welcomeStrokeTween = TweenService:Create(welcomeStroke, welcomeTweenInfo, {Transparency = 0})
    welcomeTween:Play()
    welcomeStrokeTween:Play()

    task.wait(2)
    local fadeOutTweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut)
    local fadeOut = TweenService:Create(loadingFrame, fadeOutTweenInfo, {BackgroundTransparency = 1})
    local spinnerFade = TweenService:Create(loadingSpinner, fadeOutTweenInfo, {ImageTransparency = 1})
    local welcomeFade = TweenService:Create(welcomeLabel, fadeOutTweenInfo, {TextTransparency = 1})
    local welcomeStrokeFade = TweenService:Create(welcomeStroke, fadeOutTweenInfo, {Transparency = 1})
    fadeOut:Play()
    spinnerFade:Play()
    welcomeFade:Play()
    welcomeStrokeFade:Play()
    fadeOut.Completed:Connect(function()
        spinnerTween:Cancel()
        loadingFrame:Destroy()
        toggleButton.Visible = true
    end)
end

-- X·ª≠ l√Ω l·ªói v√† ch·∫°y animation
if playerGui then
    local ancestryConnection
    ancestryConnection = screenGui.AncestryChanged:Connect(function()
        if not screenGui:IsDescendantOf(game) then
            ancestryConnection:Disconnect()
        end
    end)
    task.spawn(runWelcomeAnimation)
else
    warn("Error: PlayerGui not found!")
end
